-- Proton Exploit
-- Keyless Roblox Script using Rayfield UI

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Proton",
   LoadingTitle = "Proton Interface",
   LoadingSubtitle = "by xAI",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "ProtonConfig",
      FileName = "Proton"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = false
})

local SettingsTab = Window:CreateTab("Settings", 4483362458)

-- AntiKick Toggle
local AntiKickEnabled = true
SettingsTab:CreateToggle({
   Name = "AntiKick",
   CurrentValue = true,
   Flag = "AntiKickToggle",
   Callback = function(Value)
      AntiKickEnabled = Value
   end,
})

-- AntiKill Toggle
local AntiKillEnabled = true
SettingsTab:CreateToggle({
   Name = "AntiKill",
   CurrentValue = true,
   Flag = "AntiKillToggle",
   Callback = function(Value)
      AntiKillEnabled = Value
   end,
})

-- AntiDisconnect Toggle
local AntiDisconnectEnabled = true
SettingsTab:CreateToggle({
   Name = "AntiDisconnect",
   CurrentValue = true,
   Flag = "AntiDisconnectToggle",
   Callback = function(Value)
      AntiDisconnectEnabled = Value
   end,
})

-- AntiAntiCheat Toggle
local AntiAntiCheatEnabled = true
SettingsTab:CreateToggle({
   Name = "AntiAntiCheat",
   CurrentValue = true,
   Flag = "AntiAntiCheatToggle",
   Callback = function(Value)
      AntiAntiCheatEnabled = Value
   end,
})

-- Implement AntiKick: Hook Namecall to prevent kicks
local mt = getrawmetatable(game)
local oldNamecall = mt.__namecall
setreadonly(mt, false)

mt.__namecall = newcclosure(function(self, ...)
   local args = {...}
   local method = getnamecallmethod()
   
   if AntiKickEnabled and method == "Kick" then
      return
   end
   
   return oldNamecall(self, ...)
end)

setreadonly(mt, true)

-- Implement AntiKill: Prevent character death
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

LocalPlayer.CharacterAdded:Connect(function(character)
   if AntiKillEnabled then
      local humanoid = character:WaitForChild("Humanoid")
      humanoid.HealthChanged:Connect(function(health)
         if health <= 0 then
            humanoid.Health = 100
         end
      end)
   end
end)

if LocalPlayer.Character then
   local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
   if humanoid and AntiKillEnabled then
      humanoid.HealthChanged:Connect(function(health)
         if health <= 0 then
            humanoid.Health = 100
         end
      end)
   end
end

-- Implement AntiDisconnect: Hook disconnect (basic prevention via flag, advanced requires more)
-- Note: Full anti-disconnect often requires synapse-level hooks; this is a basic flag check
game:GetService("CoreGui").RobloxGui:BindToClose(function()
   if AntiDisconnectEnabled then
      return -- Prevent close
   end
end)

-- Implement AntiAntiCheat: Basic script disabling (detect and disable common anticheats)
if AntiAntiCheatEnabled then
   for _, obj in pairs(workspace:GetDescendants()) do
      if obj:IsA("LocalScript") and (obj.Name:lower():find("anticheat") or obj.Name:lower():find("ac")) then
         obj:Destroy()
      end
   end
   workspace.DescendantAdded:Connect(function(obj)
      if obj:IsA("LocalScript") and (obj.Name:lower():find("anticheat") or obj.Name:lower():find("ac")) then
         obj:Destroy()
      end
   end)
end

Rayfield:LoadConfiguration()